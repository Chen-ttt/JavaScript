<!--
 * @Description:
 * @Author: Tong Chen
 * @Date: 2022-09-29 09:27:33
 * @LastEditTime: 2022-09-29 11:12:22
 * @LastEditors:
-->

# **前端协作规范**

## 工作流规范

### 开发

1. **版本规范 X.Y.Z**

> - 主版本号 - 当做了不兼容的版本修改
> - 次版本号 - 当做了向下兼容的功能性新增
> - 修订号 - 当做了向下兼容的问题修正

2. **版本控制规范 Git**

- 比较流行的 git 分支模型/工作流是 git-flow, 团队需要根据项目的规模, 类型和团队成员的结构来决定工作流
- Gitflow 工作流 -> 功能分支工作流 -> 集中式工作流
  <br>
- **Gitflow**
  Gitflow 是 Git 工作流程的抽象概念, git-flow 工具集是一个具有安装过程的实际命令行工具

  ![Git Flow](https://img-blog.csdnimg.cn/03d348c974434090b404ce4cbf004b7e.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6KiA5bCt,size_20,color_FFFFFF,t_70,g_se,x_16)

  - **Main 分支**
    > 储存官方发布记录, 只包含最新的发布版本
  - **Develop 分支**
    > 功能的集成分支, 包含项目的完整历史记录
  - **Feature 分支**
    > 1. 每一个新功能都应该创建一个自己的 Feature 分支
    > 2. 它应该从最新的 Develop 分支拷贝创建, 待功能完成之后, 合并回 Develop
    > 3. 该分支不应该直接和 Main 分支交互
  - **Release 分支**
    > 1. 一旦 Develop 具备发布条件, 就可以从 Develop 分支中创建出 Release 分支
    > 2. 在该分支内不再添加新功能, 只有 bugfix, 文档编辑和其他面向发布的任务才能在 Release 分支中进行
    > 3. 在可以发布后, 将 Release 分支合并到 Main, 并打上版本号标记
    > 4. 此外, 还应该将此时的 Release 重新合并到 Develop 中, 最后被删除
  - **Hotfix 分支**
    > 用于快速修补版本 bug 的临时分支, 直接从 Main 分支 clone 出来, 修复完后, 再合并到 Main 或者当前版本分支中

3. **提交信息规范**

- 应规定统一的 commit 信息的格式
- 版本库不只是存放代码的仓库, 也用于记录项目的开发日志, 因此应该清晰的表达这次提交做了什么, 帮助其他成员快速学习和回顾代码

### 构建规范

- vue-cli3 / create-react-app

- 约定大于配置, 使团队成员更专注于业务开发, 避免他们关心或更改构建的配置细节

### 发布工作流规范

![发布工作流](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/7/26/16c2c49ed9c29074~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.image)

### 持续集成

### 任务管理

任务看板(例如 Trello), Todo - Doing - Done, 可以帮助团队成员了解项目进度, 资源分配情况等。

## 技术栈规范

技术栈规范主要包括以下几个方面:

- 编程语言
- UI 框架及配套生态:
  - UI 框架
  - 路由
  - 状态管理
  - 组件库
  - 国际化
  - 动画
  - 服务端渲染
  - 手脚架、CLI 工具
  - 组件测试
- 样式 (包括命名规范、预处理器、方法论等等)
- 动画引擎
- QA (包含测试、Lint、格式化工具、监控)
- 项目构建工具流 (例如 webpack、vur-cli)
- 包管理器 (npm、yarn)
- 项目管理工具
- 时间处理
- 模版引擎
- 开发工具
- 后端开发框架
- 工具库
- 开发/调试工具

### 技术选型

- 选择团队熟悉的技术
- 选择拥有强大生态和社区支撑的开源技术
- 选择成长期的技术 (技术应该是向前发展, 面向未来的, 不应当选择过气的技术)
- 技术之间的配合 (例如 Mobx 会破坏 hooks 功能, Vue 和 TS 配合效果不理想)
- 业务考虑 (例如快速开发需求)

### 拥抱新技术

需要考虑学习成本、收益、风险。

## 浏览器兼容规范

根据用户情况、应用类型、开发成本、浏览器市场的统计数据等情况, 制定浏览器兼容规范
